!function(e){"function"==typeof define&&define.amd?define(["knockout","jquery","jquery-ui/autocomplete"],e):e(window.ko,jQuery)}(function(e,t){var a=function(){var a=this,n=e.utils.unwrapObservable;this.init=function(o,i,u,l,r){var s,c,p=n(i()),d={},f="function"==typeof p.filter?p.filter:a.defaultFilter;e.utils.extend(d,a.options),e.utils.extend(d,p.options),d.source="function"!=typeof p.source||e.isObservable(p.source)?a.processOptions.bind(a,i,f,p.source):function(e,t){var n=function(n){a.processOptions(i,null,n,e,t)};p.source.call(r.$data,e.term,n)},s="function"==typeof d.select&&d.select,c="function"==typeof d.change&&d.change,d.select=function(t,a){a.item&&a.item.actual&&(p.value(a.item.actual),e.isWriteableObservable(p.dataValue)&&p.dataValue(a.item.data)),s&&s.apply(this,arguments)},d.change=function(t,a){a.item&&a.item.actual||(p.value(t.target&&t.target.value),e.isWriteableObservable(p.dataValue)&&p.dataValue(null)),c&&c.apply(this,arguments)};var v=t(o).autocomplete(d).data("ui-autocomplete");p.template&&(v._renderItem=a.renderItem.bind(a,p.template,r)),e.utils.domNodeDisposal.addDisposeCallback(o,function(){v&&"function"==typeof v.destroy&&(v.destroy(),v=null)})},this.update=function(o,i){var u,l,r=n(i()),s=n(r&&r.value);s||0===s||(s=""),l=n(r.source),u=a.getPropertyNames(i),t.isArray(l)&&u.value&&(s=e.utils.arrayFirst(l,function(e){return e[u.value]==s})||s),o.value=u.input&&s&&"object"==typeof s?s[u.input]:s},this.defaultFilter=function(t,a){return a=a&&a.toLowerCase(),(t||0===t)&&e.toJSON(t).toLowerCase().indexOf(a)>-1},this.processOptions=function(e,t,a,o,i){var u,l,r,s=n(a)||[],c=[],p=this.getPropertyNames(e);for(l=0,r=s.length;r>l;l++)u=s[l],(!t||t(u,o.term))&&c.push({label:p.label?u[p.label]:u.toString(),value:p.input?u[p.input]:u.toString(),actual:p.value?u[p.value]:u,data:u});i(c)},this.renderItem=function(a,n,o,i){var u=t("<li></li>").appendTo(o),l=n.createChildContext(i.data);return e.applyBindingsToNode(u[0],{template:a},l),u.one("remove",e.cleanNode.bind(e,u[0])),u},this.getPropertyNames=function(t){var a=e.toJS(t());return{label:a.labelProp||a.valueProp,input:a.inputProp||a.labelProp||a.valueProp,value:a.valueProp}},this.options={autoFocus:!0,delay:50}};e.bindingHandlers.jqAuto=new a});